<!DOCTYPE html>
<!-- This is the homepage of AgreeMates. It contains a header, a side-bar and placeholder for Angular view -->
<html lang="en" ng-app="main">

<head>
  <meta charset="utf-8">
  <title>{{title}}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <link rel="stylehseet" href="http://fonts.googleapis.com/css?family=Open+Sans:400italic,600italic,400,600,700">
  <link rel="stylesheet" href="vendor/ionicons/css/ionicons.min.css">
  <link rel="stylesheet" href="vendor/bootstrap/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="app.css">
</head>

<body>

  <div id="wrapper">

    <nav class="navbar navbar-default navbar-fixed-top" role="navigation" style="margin-bottom: 0">
      <!-- header -->
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".sidebar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/">{{title}}</a>
      </div>

      <ul class="nav navbar-nav navbar-right hidden-xs">
        <li><a href="#"><i class="ion-ios7-bell"></i><span class="badge red-badge notif-badge">2</span></a></li>
      </ul>

      <!-- side-bar -->
      <div id="sidebar" class="navbar-default navbar-static-side" role="navigation">
        <!-- Profile Avatar -->
        <div class="hidden-xs" id="user-info">
          <img src="https://s3.amazonaws.com/uifaces/faces/twitter/sindresorhus/128.jpg" id="user-image" class="img-circle">
          <p id="user-online"><span id="user-online-dot"></span> Online</p>
          <p id="user-welcome">Welcome, {{firstname}}!</p>
        </div>


        <!-- menu bar -->
        <div class="sidebar-collapse">
          <ul class="nav nav-list" id="side-menu" ng-controller="NavCtrl">

            <li class="nav-header">
              Tasks
            </li>

            <li ng-class="{active: isActive('/')}">
              <a href='#/'>Calendar</a>
            </li>

            <li ng-class="{active: isActive('/bills')}">
              <a href='#/bills'>Bills</a>
            </li>

            <li ng-class="{active: isActive('/chores')}">
              <a href='#/chores'>Chores<span class="badge pull-right red-badge">2</span></a>
            </li>

            <li ng-class="{active: isActive('/supplies')}">
              <a href='#/supplies'>Supplies</a>
            </li>

            <li ng-class="{active: isActive('/board')}">
              <a href='#/board'>Message Board</a>
            </li>

            <li class="nav-header">
              Apartment
            </li>

            <li ng-class="{active: isActive('/settings')}">
              <a href='#/settings'>Settings</a>
            </li>

            <li ng-class="{active: isActive('/profile')}">
              <a href='#/profile'>Profile</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div id="page-wrapper">
      <div class="row">
        <ng-view></ng-view>
      </div>
    </div>

  </div>

  <script src="vendor/jquery/dist/jquery.min.js"></script>
  <script src="vendor/angular/angular.min.js"></script>
  <script src="vendor/angular-route/angular-route.min.js"></script>
  <script src="vendor/bootstrap/dist/js/bootstrap.min.js"></script>
  <script src="app.js"></script>

  <script src="components/bills/bills.js"></script>
  <script src="components/board/board.js"></script>
  <script src="components/calendar/calendar.js"></script>
  <script src="components/chores/chores.js"></script>
  <script src="components/supplies/supplies.js"></script>
  <script src="components/navbar/navbar.js"></script>
  <script src="components/settings/settings.js"></script>
  <script src="components/profile/profile.js"></script>

  <script>
    // JS function to collapse the side-bar when the page is less than 768px wide
    $(function () {
      $(window).bind("load resize", function () {
        width = (this.window.innerWidth > 0) ? this.window.innerWidth : this.screen.width;
        if (width < 768) {
          $('div.sidebar-collapse').addClass('collapse')
        } else {
          $('div.sidebar-collapse').removeClass('collapse')
        }
      })
    });
  </script>

</body>

</html>
